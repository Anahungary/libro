---
import { showCountingSell } from "../config.json";
import Checkmark from "./icons/Checkmark.astro";

// Definición de los dos modelos de venta
const pricingOptions = {
  ebook: {
    title: "Ebook",
    amount: {
      decimal: "15",
      cents: "000"
    },
    currency: "COP",
    details: [
      "Entrega inmediata por correo electrónico",
      "Formatos PDF y EPUB para cualquier dispositivo",
      "Acceso permanente",
      "Descarga directa"
    ],
    button: {
      label: "Comprar por link",
      url: "#comprar-ebook"
    },
    isPopular: true
  },
  amazon: {
    title: "Amazon",
    amount: {
      decimal: "4",
      cents: "00"
    },
    currency: "USD",
    details: [
      "Disponible en Amazon Kindle",
      "Sincronización entre dispositivos",
      "Compra segura a través de Amazon",
      "Soporte técnico de Amazon"
    ],
    button: {
      label: "Comprar en Amazon",
      url: "https://www.amazon.com/dp/XXXXX"
    },
    isPopular: false
  }
};
---

<div class="bg-book-gray">
  <div class="pt-12 px-4 sm:px-6 lg:px-8 lg:pt-20">
    <div class="text-center">
      <p
        class="mt- text-3xl leading-9 font-extrabold text-white sm:text-4xl sm:leading-10 lg:text-5xl lg:leading-none"
      >
        Compra ahora
      </p>
      
    </div>
  </div>
  
  <div class="mt-16 bg-white pb-12 lg:mt-20 lg:pb-20">
    <div class="relative z-0">
      <div class="absolute inset-0 h-5/6 bg-book-gray lg:h-2/3"></div>
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="relative lg:grid lg:grid-cols-2 lg:gap-8">
          
          <!-- Ebook Option -->
          <div class="mt-10 max-w-lg mx-auto lg:mt-0 lg:max-w-none lg:mx-0">
            <div class="relative z-10 rounded-lg shadow-xl h-full">
              {pricingOptions.ebook.isPopular && (
                <div>
                  <div class="pointer-events-none absolute inset-0 rounded-lg border-2 border-book-theme" aria-hidden="true"></div>
                  <div class="absolute inset-x-0 top-0 transform translate-y-px">
                    <div class="flex justify-center transform -translate-y-1/2">
                      <span class="inline-flex rounded-full text-book-gray bg-book-theme px-4 py-1 text-sm font-semibold tracking-wider uppercase">
                        Más Popular
                      </span>
                    </div>
                  </div>
                </div>
              )}
              
              <div id="buy" class="bg-white rounded-t-lg px-6 pt-12 pb-10">
                <div>
                  <h3 class="text-center text-3xl font-semibold text-book-gray sm:-mx-6" id="ebook">
                    {pricingOptions.ebook.title}
                  </h3>
                  <div class="mt-4 flex items-center justify-center">
                    <span class="px-1 flex items-start text-6xl tracking-tight text-book-gray sm:text-6xl">
                      <span class="font-extrabold">$15.000</span>
                    </span>
                    <span class="ml-1 text-xl font-medium text-gray-500">COP</span>
                  </div>
                </div>
              </div>
              
              <div class="border-t-2 border-gray-100 rounded-b-lg pt-10 pb-8 px-6 bg-gray-50 sm:px-10 sm:py-10">
                <ul class="space-y-4">
                  {pricingOptions.ebook.details.map((item) => (
                    <li class="flex items-start">
                      <div class="flex-shrink-0">
                        <Checkmark/>
                      </div>
                      <p class="ml-3 text-base font-medium text-gray-500">
                        {item}
                      </p>
                    </li>
                  ))}
                </ul>
                <div class="mt-10">
                  <div class="rounded-lg shadow-md">
                    <a
                      target="blank"
                      href={pricingOptions.ebook.button.url}
                      class="block w-full text-center rounded-lg border border-transparent px-6 py-4 text-xl leading-6 font-semibold text-book-gray bg-book-theme hover:bg-yellow-200 focus:outline-none transition duration-300 ease-in-out"
                    >
                      {pricingOptions.ebook.button.label}
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Amazon Option -->
          <div class="mt-10 mx-auto max-w-lg lg:mt-0 lg:max-w-none lg:mx-0">
            <div class="rounded-lg shadow-xl h-full">
              <div class="bg-white rounded-t-lg px-6 pt-12 pb-10">
                <div>
                  <h3 class="text-center text-3xl font-semibold text-book-gray" id="amazon">
                    {pricingOptions.amazon.title}
                  </h3>
                  <div class="mt-4 flex items-center justify-center">
                    <span class="px-1 flex items-start text-6xl tracking-tight text-book-gray">
                      <span class="font-extrabold">$4</span>
                    </span>
                    <span class="ml-1 text-xl font-medium text-gray-500">USD</span>
                  </div>
                </div>
              </div>
              
              <div class="border-t-2 border-gray-100 rounded-b-lg pt-10 pb-8 px-6 bg-gray-50 sm:px-10 sm:py-10">
                <ul class="space-y-4">
                  {pricingOptions.amazon.details.map((item) => (
                    <li class="flex items-start">
                      <div class="flex-shrink-0">
                        <Checkmark/>
                      </div>
                      <p class="ml-3 text-base font-medium text-gray-500">
                        {item}
                      </p>
                    </li>
                  ))}
                </ul>
                <div class="mt-10">
                  <div class="rounded-lg shadow-md">
                    <a
                      target="blank"
                      href={pricingOptions.amazon.button.url}
                      class="block w-full text-center rounded-lg border border-transparent px-6 py-4 text-xl leading-6 font-semibold text-book-gray bg-slate-300 hover:bg-slate-500 focus:outline-none transition duration-300 ease-in-out"
                    >
                      {pricingOptions.amazon.button.label}
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </div>
      </div>
      
      {showCountingSell && (
        <p class="text-center text-base text-gray-700 mt-10">
          Más de <span class="font-semibold">2,425 copias</span> vendidas
        </p>
      )}
      
    </div>
  </div>
</div>